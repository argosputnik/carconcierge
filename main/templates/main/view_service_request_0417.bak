{# templates/main/view_service_request.html #}
{% extends 'main/base.html' %}
{% block title %}Service Request #{{ service_request.id }}{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">Service Request Details</h2>

  <dl class="row">
    <dt class="col-sm-3">Request ID</dt>
    <dd class="col-sm-9">{{ service_request.id }}</dd>

    <dt class="col-sm-3">Requested At</dt>
    <dd class="col-sm-9">
      {{ service_request.requested_at|date:"Y‑m‑d H:i" }}
    </dd>

    <dt class="col-sm-3">Pickup Location</dt>
    <dd class="col-sm-9">{{ service_request.pickup_location }}</dd>

    <dt class="col-sm-3">Dropoff Location</dt>
    <dd class="col-sm-9">{{ service_request.dropoff_location }}</dd>

    <dt class="col-sm-3">Status</dt>
    <dd class="col-sm-9">{{ service_request.status }}</dd>

    <dt class="col-sm-3">Assigned To</dt>
    <dd class="col-sm-9">
      {% if service_request.assigned_to %}
        {{ service_request.assigned_to.get_full_name }}
      {% else %}
        <em>Unassigned</em>
      {% endif %}
    </dd>

    {% if service_request.description %}
      <dt class="col-sm-3">Description</dt>
      <dd class="col-sm-9">{{ service_request.description }}</dd>
    {% endif %}
  </dl>

  <div class="mt-4">
    <a href="{% url 'customer_dashboard' %}" class="btn btn-secondary me-2">
      ← Back to Dashboard
    </a>
    <a href="{% url 'edit_service_request' service_request.id %}" 
       class="btn btn-primary">
      Edit
    </a>
  </div>
</div>
{% endblock %}
